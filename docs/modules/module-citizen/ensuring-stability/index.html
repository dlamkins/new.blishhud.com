<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-modules/module-citizen/ensuring-stability">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Ensuring Stability | Blish HUD</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:url" content="https://blishhud.com/docs/modules/module-citizen/ensuring-stability"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="og:image" content="/img/logo.png"><meta data-rh="true" name="og:type" content="website"><meta data-rh="true" name="twitter:card" content="summary"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Ensuring Stability | Blish HUD"><meta data-rh="true" name="description" content="While Blish HUD will do everything it can to avoid crashing when modules misbehave, it is important that your module does its part to catch and handle exceptions as appropriate."><meta data-rh="true" property="og:description" content="While Blish HUD will do everything it can to avoid crashing when modules misbehave, it is important that your module does its part to catch and handle exceptions as appropriate."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://blishhud.com/docs/modules/module-citizen/ensuring-stability"><link data-rh="true" rel="alternate" href="https://blishhud.com/docs/modules/module-citizen/ensuring-stability" hreflang="en"><link data-rh="true" rel="alternate" href="https://blishhud.com/docs/modules/module-citizen/ensuring-stability" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-46839422-21","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><link rel="stylesheet" href="/assets/css/styles.bf1feaef.css">
<link rel="preload" href="/assets/js/runtime~main.86755992.js" as="script">
<link rel="preload" href="/assets/js/main.1cac73fb.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#8172DA;color:white" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">Check out our <a target="_blank" href="https://discord.gg/FYKN3qh">Discord channel</a> for the latest news, prerelease builds, and troubleshooting assistance.</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Blish HUD" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="Blish HUD" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Blish HUD</b></a><a class="navbar__item navbar__link" href="/docs/user/">User Guide</a><a class="navbar__item navbar__link" href="/modules/">Modules</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/dev/">Module Development</a><a href="https://discord.gg/FYKN3qh" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" class="navbar__item navbar__link navbar__splitleft">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/blish-hud/Blish-HUD" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/modules/overview/getting-started">Create a Module</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/modules/module-citizen/overview">Module Citizen</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/modules/module-citizen/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/modules/module-citizen/friendly-ui-ux">User-Friendly UI/UX</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/modules/module-citizen/ensuring-stability">Ensuring Stability</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/modules/module-citizen/repo-etiquette">Repo Etiquette</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/modules/guides/settings">Guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/dev/controls/overview">API - Controls</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/modules/ssrd/overview">SSRD</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Module Citizen</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Ensuring Stability</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Ensuring Stability</h1></header><p>While Blish HUD will do everything it can to avoid crashing when modules misbehave, it is important that your module does its part to catch and handle exceptions as appropriate.</p><p>With our userbase numbering in the tens of thousands, your module has the potential to run on a wide range of systems with various specs, anti-virus, and other unique environmental issues.  It is important to ensure that your module is resilient to these issues.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="make-use-of-contingency-notifications">Make use of contingency notifications<a class="hash-link" href="#make-use-of-contingency-notifications" title="Direct link to heading">​</a></h2><p>Blish HUD provides a standardized way of notifying users when there is an issue beyond our control (we&#x27;ll refer to these as environmental issues) that significantly impacts using Blish HUD.</p><p>Found within our Debug namespace you&#x27;ll find a way to make these calls: <code>Debug.Contingency</code>.  Soon we&#x27;ll extend this to allow for custom notifications.  In the meantime, however, we have several common ones including notifications when a file save is blocked via permissions or otherwise.  These show a popup which the user will see at most once per session indicating the issue, offering a solution, and linking them to the relevant troubleshooting article on our website.  We have found these to be incredibly effective at reducing the number of issues surrounding common environmental issues such as anti-virus, etc.</p><p>These calls are meant for issues that would impact Blish HUD as a whole and require immediate attention to resolve issues.  It is not meant for minor or optional module features.  They show a disruptive popup that users will not want to see regularly as they interrupt gameplay.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="handle-exceptions-when-working-with-external-resources">Handle exceptions when working with external resources<a class="hash-link" href="#handle-exceptions-when-working-with-external-resources" title="Direct link to heading">​</a></h2><p>Sometimes you need to read a file, make a web request, etc. but what happens if the file you&#x27;re attempting to read is unexpectedly not there or a the web server hosting the API you&#x27;re making a call to is down?</p><p>In any of these scenarios where an external resource is referenced please ensure you:</p><ul><li><strong>Wrap your calls with try/catch statements</strong> and handle exceptions appropriately.</li><li><strong>Notify your user of the fault if it is critical to your modules use.</strong>  Especially for features that are non-critical, it is good to show in the UI when a feature may not be available because an external call failed (and details may allow them to resolve the issue themselves).</li><li><strong>Include graceful fallbacks</strong> such as disabling certain features (with a note if you can) if something fails to load.  Users are often confused when something is temporarily unavailable without notice because they don&#x27;t necessarily know that something failed so the clearer the notice, the better.</li><li><strong>Log your issues</strong>.  Data pulled from the web or local disk can be caused by a number of factors, but ensure it is logged using your logger.  Avoid using ERROR or FATAL for these sorts of logging entries as it will flood you with reports in Sentry for what is likely an environmental issue that you can&#x27;t directly solve and that you&#x27;ve already caught and handled.</li><li><strong>Implement <em>reasonable</em> retry logic.</strong>  Avoid thrashing your users&#x27; system with endless retry attempts.  Instead, if something is likely to be a short blip, consider retrying either once more after a short wait, or retrying on a regular interval several minutes apart.  This allows your module to &quot;self-heal&quot; if at all possible without user interaction and without degrading system performance.</li></ul><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>Use applications such as Fiddler to disable web API traffic/emulate intermittent disruptions or try corrupting your settings files.  These tests can prove valuable in identifying gaps in your exception handling.</p><p>The Guild Wars 2 API has had several notable periods of downtime or other disruptions over the years.  It&#x27;s always better to prepare now than have to deploy an emergency fix down the road when thousands of users run into issues at once.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="look-out-for-symptoms-of-anti-virus">Look out for symptoms of anti-virus<a class="hash-link" href="#look-out-for-symptoms-of-anti-virus" title="Direct link to heading">​</a></h2><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>To preface</div><div class="admonitionContent_S0QG"><p>We <strong>do not</strong> attempt to circumvent anti-virus or other security software.  Instead, we work to try to identify when it impedes us and notify the user so that they can address it themselves.</p><p>We will also submit our compiled assemblies to Anti-Virus vendors for review and for approval when there are repeat issues from the same vendor so that they can manually approve it.</p></div></div><p>Sometimes users have an anti-virus that, despite our best efforts to sign and submit our releases for review, will get blocked.  These days many anti-virus platforms block <em>behaviors</em> instead of the applications themselves.  Common examples are:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="failed-web-requests">Failed Web Requests<a class="hash-link" href="#failed-web-requests" title="Direct link to heading">​</a></h3><p>Trivial web requests may return unexpected exceptions if actively blocked by outbound software firewalls.</p><p>As with all web requests made, you should wrap them in try/catch statements and handle any exceptions.  For failed requests that specifically return HRResult <code>-2147467259</code>, you should call <code>Debug.Contingency.NotifyHttpAccessDenied</code> to notify the user.  Web requests that fail in this way to the GW2 API via the managed client already are wrapped and checked for this exception.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="failed-file-system-readwrites">Failed File System Read/Writes<a class="hash-link" href="#failed-file-system-readwrites" title="Direct link to heading">​</a></h3><p>Basic file reads (even to files you&#x27;ve written to disk) or writes may be blocked - even to directories that other modules have successfully written to.</p><p>As with all file reads and writes, you should wrap them in try/catch statements and handle any exceptions.  For failed file reads and writes <code>UnauthorizedAccessException</code> is what is most often returned for this particular issue and you should use <code>Debug.Contingency.NotifyFileSaveAccessDenied</code> to notify the user when this specific exception is thrown while handling IO.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/modules/module-citizen/friendly-ui-ux"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">User-Friendly UI/UX</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/modules/module-citizen/repo-etiquette"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Repo Etiquette</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#make-use-of-contingency-notifications" class="table-of-contents__link toc-highlight">Make use of contingency notifications</a></li><li><a href="#handle-exceptions-when-working-with-external-resources" class="table-of-contents__link toc-highlight">Handle exceptions when working with external resources</a></li><li><a href="#look-out-for-symptoms-of-anti-virus" class="table-of-contents__link toc-highlight">Look out for symptoms of anti-virus</a><ul><li><a href="#failed-web-requests" class="table-of-contents__link toc-highlight">Failed Web Requests</a></li><li><a href="#failed-file-system-readwrites" class="table-of-contents__link toc-highlight">Failed File System Read/Writes</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Designed and built with all the love in Tyria by the Blish HUD team with help from many more!
                  <br>
                  <br>
                  <a target="_blank" href="https://github.com/blish-hud/blish-hud/graphs/contributors">
                    <img src="https://contrib.rocks/image?repo=blish-hud/blish-hud&max=12">
                  </a>
                  <hr>
                  <div style="text-align:left;">
                  <p>This site is not affiliated with ArenaNet, Guild Wars 2, or any of their partners. All copyrights reserved to their respective owners.</p>
                  <p>©2010-2023 ArenaNet, LLC. All rights reserved. Guild Wars, Guild Wars 2, Heart of Thorns,
                  Guild Wars 2: Path of Fire, ArenaNet, NCSOFT, the Interlocking NC Logo, and all associated
                  logos and designs are trademarks or registered trademarks of NCSOFT Corporation. All other
                  trademarks are the property of their respective owners.</p>
                  </div></div></div></div></footer></div>
<script src="/assets/js/runtime~main.86755992.js"></script>
<script src="/assets/js/main.1cac73fb.js"></script>
</body>
</html>